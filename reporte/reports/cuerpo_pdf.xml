<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="cuerpo_pdf" >
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="reporte.cabecera_pdf">
                    <div class="page" >
                        <!--Para eiliminar bordes de la tabla-->
                        <style type="text/css">
                            thead, tbody, th, tr, td {
                                border: 2px solid #dee2e6;
                            }
                        </style>
                        <!--style="height: 40px !important;"  border-top: 0px; font-size: 11px; margin-top: 1px; -->
                        <div class="row">
                            <div class="col-12">
                                <table class="table table-bordered " style="width:100%; font-size: 11px !important;font-family: 'Arial';">
                                    <thead>
                                        <tr style="background-color: #E5E8E8">
                                            <th class="p-0 text-center" width="50">
                                                <strong style="font-size: 11px" >
                                                    Cuenta
                                                </strong>
                                            </th>

                                            <th class="p-0 text-center" width="50">
                                                <strong>
                                                    Descripción Cuenta / Glosa de Mayor
                                                </strong>
                                            </th>

                                            <th class="p-0 text-center" width="30">
                                                <strong>
                                                    
                                                    Debe <t t-esc="o.currency_id.symbol"/>
                                                </strong>
                                            </th>

                                            <th class="p-0 text-center" width="20">
                                                <strong>
                                                    Haber <t t-esc="o.currency_id.symbol"/>
                                                </strong>
                                            </th>
                                        </tr>
                                    </thead>
                                    <t t-set="format_decimal" t-value="o.currency_id and o.currency_id.decimal_places or 2"/>
                                    <tbody class="account_account_tbody">
                                        <t t-set="sum_debit_dollar" t-value="0.0"/>
                                        <t t-set="sum_credit_dollar" t-value="0.0"/>
                                        <t t-set="sum_debit_bob" t-value="0.0"/>
                                        <t t-set="sum_credit_bob" t-value="0.0"/>
                                        <t t-foreach="o.line_ids" t-as="line">
                                            <t t-set="sum_debit_dollar" t-value="sum_debit_dollar + line.debit"/>
                                            <t t-set="sum_credit_dollar" t-value="sum_credit_dollar + line.credit"/>
                                            <t t-set="sum_debit_bob" t-value="sum_debit_bob + line.debit"/>
                                            <t t-set="sum_credit_bob" t-value="sum_credit_bob + line.credit"/>
                                            <tr>
                                                <td class="text-center p-8">
                                                    <span t-esc="line.account_id.code"/>
                                                </td>
                                                <td style="text-align: start; padding:8;">
                                                    <span t-esc="line.account_id.name"/>
                                                    <br/>
                                                    <!-- height: 40px !important;<span t-esc="line.name or ''"/>-->

                                                </td>
                                                <td style="text-align: end; padding: 8;">
                                                    <span t-esc="line.debit" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                                <td style="text-align: end; padding: 8;">
                                                    <span t-esc="line.credit" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                            </tr>
                                        </t>
                                        <tr style="border: 1px solid !important;">
                                            <td colspan="2" style="text-align: right; padding: 8;">
                                                <strong>Totales:</strong>
                                            </td>

                                            <td style="text-align: end; padding: 8;font-size: 11px;">
                                                <strong>
                                                    <t t-out="sum_debit_bob" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </strong>
                                            </td>
                                            <td style="text-align: end; padding: 8;font-size: 11px;">
                                                <strong>
                                                    <t t-out="sum_credit_bob" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </strong>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 20px;">
                            <div class="col-12">
                                <t t-set="num2word_var" t-value="o.number_to_word(sum_debit_bob).upper()"/>

                                <t t-if="sum_debit_bob % 1 == 0">
                                    <!-- Si la parte decimal es 0, asegúrate de mostrar 00/100 -->
                                    <t t-set="num2word_var" t-value="num2word_var.replace('CON 0/100', 'CON 00/100')"/>
                                </t>

                                <span style="font-size: 11px;font-family: 'Roboto';">LA SUMA DE:
                                    <t t-out="num2word_var"/>
                                </span>

                            </div>

                        </div>


                        <t t-set="current_page" t-value="context.get('page_number', 1)"/>
                        <t t-set="total_pages" t-value="len(o)"/>
                        <div class="clearfix" t-if="current_page == total_pages" style="margin-top: 20px; margin-left: 20px; margin-right: 20px;">
                            <div id="total" class="row">
                                <table class="table table-bordered mt32" style="font-size: 12px;width:100%;">
                                    <tr>
                                        <td style="height: 100px; width: 25%; border-top: 0px"/>
                                        <td style="height: 100px; width: 25%; border-top: 0px"/>
                                        <td style="height: 100px; width: 25%; border-top: 0px"/>
                                        <td style="height: 100px; width: 25%; border-top: 0px"/>
                                    </tr>
                                    <tr>
                                        <td style="font-size: 11px;">
                                            Elaborado por
                                        </td>
                                        <td style="font-size: 11px;">Autorizado por</td>
                                        <td style="font-size: 11px;">Aprobado por G.G.</td>
                                        <td style="font-size: 11px;">C.I. ...................................</td>
                                    </tr>
                                </table>

                            </div>
                        </div>


                    </div>
                </t>
            </t>
        </t>
    </template>

</odoo>